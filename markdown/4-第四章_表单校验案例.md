# ç¬¬å››ç« _è¡¨å•æ ¡éªŒæ¡ˆä¾‹
### è¡¨å•æ ¡éªŒ ä½¿ç”¨åˆ°çš„äº‹ä»¶
* #### `onsubmit()`      æäº¤æ—¶
    + `onsubmit()` è¡¨å•æäº¤æ—¶ return å–è¿”å›å€¼ true æ‰ä¼šæäº¤
* #### `onblur()`        å¤±å»ç„¦ç‚¹æ—¶

## ç¯å¢ƒå‡†å¤‡ï¼š
### 1. ç½‘é¡µç»“æ„ä»£ç 
``` html
<!-- CSS -->
<style>
    table {
        width: 600px;
        height: 300px;
        border: 2px solid;
        border-collapse: collapse;
    }
    tr,
    td {
        border: 1px solid;
        text-align: center;
    }
</style>
<!-- html è¿™é‡Œäº‹å…ˆæ·»åŠ å¥½äº‹ä»¶äº† -->
<form method="get" action="http://127.0.0.1:3000/" onsubmit="return checkForm()">
    <table>
        <tr>
            <td colspan="2">æ³¨å†Œ</td>
        </tr>
        <tr>
            <td>ç”¨æˆ·åï¼š</td>
            <td>
                <input name="userName" type="text" id="user-name"  onblur="checkUserName(this)">
                <span color="red" id="uM-name"></span>
            </td>
        </tr>
        <tr>
            <td>é‚®ç®±ï¼š</td>
            <td a>
                <input name="userEmail" type="text" id="email" onblur="checkEmail(this)">
                <span color="red" id="uM-email"></span>
            </td>
        </tr>
        <tr>
            <td>å¯†ç ï¼š</td>
            <td>
                <input name="userPassword" type="text" id="password" onblur="checkPassword(this)">
                <span color="red" id="uM-password"></span>
            </td>
        </tr>
        <tr>
            <td>é‡å¤å¯†ç ï¼š</td>
            <td>
                <input type="text" id="repeat-password" onblur="checkPassword(this)">
                <span color="red" id="uM-repPassword"></span>
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <input type="submit" value="æ³¨å†Œ">
                <input type="reset" value="æ¸…ç©º">
            </td>
        </tr>
    </table>
</form>
```
### 2. è¡¨å•æäº¤åœ°å€ï¼š`ï¼ˆURL æ˜¯ from çš„ action å±æ€§å€¼ã€æäº¤çš„ method æ˜¯ getï¼‰`
#### `èœé¸Ÿæ•™ç¨‹`æä¾›çš„åœ°å€ï¼š`https://www.runoob.com/try/demo_source/demo-form.php`
#### ä½¿ç”¨ nodejs å†™çš„ ğŸ³ http æœåŠ¡ï¼š`http://127.0.0.1:3000/`
1. æ–°å»º server.js æ–‡ä»¶ï¼Œä»£ç å†…å®¹å¦‚ä¸‹ï¼š
2. éœ€è¦å®‰è£…ï¼ˆå·²å®‰è£…è·³è¿‡ï¼‰ __[node](https://nodejs.cn/download/) ç¯å¢ƒ__ ï¼ˆé»˜è®¤å®‰è£…ï¼‰
3. å¯åŠ¨æœåŠ¡ï¼Œæ§åˆ¶å°å‘½ä»¤ `node server.js` ï¼ˆå¦‚æœæ²¡æœ‰å°±æŠŠ node æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡ çš„ `path` é‡Œï¼‰ç„¶åå°±å¯ä»¥ç›´æ¥è®¿é—®äº†
``` js
// å¼•å…¥ http æ¨¡å—
const http = require("http")
// åˆ›å»ºæœåŠ¡
const server = http.createServer((request, response) =>
{
    response.setHeader("Content-Type", "text/html;charset=UTF-8")
    response.end("<h1>æ³¨å†ŒæˆåŠŸ</h1>")
})
// å¯åŠ¨æœåŠ¡ï¼Œæ–­å¼€ç›‘å¬
server.listen(3000, () =>
{
    console.log("æœåŠ¡ 3000 å¯åŠ¨...");
    console.log("è®¿é—®åœ°å€ï¼šhttp://127.0.0.1:3000/");
})
```
---

## æ¡ˆä¾‹å¼€å§‹
### 1. å®šä¹‰å‡½æ•° `checkForm()` æäº¤æ—¶æ ¡éªŒ
- from æ·»åŠ å±æ€§ï¼š`onsubmit="return checkForm()"`ï¼Œè¿™é‡Œä½¿ç”¨å‡½æ•°çš„è¿”å›å€¼
- é€šè¿‡id (`getElementById`) æ‹¿åˆ°ï¼š`åç§°`ã€`é‚®ç®±`ã€`å¯†ç ` ã€`é‡å¤å¯†ç ` æ¶ˆæ¯æ¡†
``` js
// æäº¤æ—¶æ ¡éªŒ
function checkForm()
{
    var isPass = true; // æ˜¯å¦é€šè¿‡æäº¤
    // ç”¨æˆ·æç¤ºæ¡†        
    var userMassageName = document.getElementById("uM-name");
    var userMassageEmail = document.getElementById("uM-email");
    var userMassagePassword = document.getElementB("uM-password");
    var massageRepPassword = document.getElementB("uM-repPassword");

    // todo
    /**
     *  ç”¨æˆ·åæ£€æµ‹
     *  é‚®ç®±æ£€æµ‹
     *  å¯†ç æ ¡éªŒ
     */

    return isPass;
}
```
---
### 2. `checkForm()` å‡½æ•°æ·»åŠ  `ç”¨æˆ·åæ£€æµ‹` åŠŸèƒ½
- æ‹¿åˆ°ç”¨æˆ·åï¼š`getElementById("user-name")`
- åˆ¤æ–­ç”¨æˆ·åçš„é•¿åº¦å¿…é¡»ä¸ºï¼š3 ~ 10
``` js
var userName = document.getElementById("user-name");      // è·å–ç”¨æˆ·åå…ƒç´ 
var length = userName.value.length;     // è·å–å­—ç¬¦ä¸²é•¿åº¦
if (length < 3 || length > 10)
{
    isPass = false;
    userMassageName.innerText = "ç”¨æˆ·åé•¿åº¦å¿…é¡»æ˜¯3-10ä½";   // ç”¨æˆ·æç¤º
    return isPass;
}
else
{
    userMassageName.innerText = ""; // æ¸…ç©ºæç¤ºæ¡†ä¿¡æ¯
}
```
---
### 3. `checkForm()` å‡½æ•°æ·»åŠ  `é‚®ç®±æ£€æµ‹` åŠŸèƒ½
- é‚®ç®±æ­£åˆ™è¡¨è¾¾å¼ï¼Œæä¾›ç½‘ç«™: https://c.runoob.com/front-end/854/
``` js
var userEmail = document.getElementById("email").value; //  è·å–é‚®ç®±
var emailReg = /^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/; // é‚®ç®±åˆ¤æ–­æ­£åˆ™
if (!emailReg.test(userEmail))
{
    isPass = false;
    userMassageEmail.innerText = "é‚®ç®±æ ¼å¼ä¸æ­£ç¡®!";
    return isPass;
}
else
{
    userMassageEmail.innerText = "";
}
```
---

### 4. `checkForm()` å‡½æ•°æ·»åŠ  `å¯†ç æ ¡éªŒ` åŠŸèƒ½
- æ£€æµ‹å¯†ç é•¿åº¦ï¼š6 ~ 10
- æ£€æµ‹ä¸¤æ¬¡å¯†ç æ˜¯å¦ä¸€è‡´
``` js
// å¯†ç ã€é‡å¤å¯†ç å…ƒç´ è·å–
var userPassword = document.getElementById("password").value;
var repeatPassword = document.getElementById("repeat-password").value;
if (userPassword.length < 6 || userPassword.length > 10)
{
    isPass = false;
    userMassagePassword.innerText = "å¯†ç é•¿åº¦ä¸º6-10";
    return isPass;
}
else if (repeatPassword != userPassword)
{
    isPass = false;
    userMassagePassword.innerText = "";
    massageRepPassword.innerText = "ä¸¤æ¬¡å¯†ç ä¸ä¸€è‡´ï¼";
    return isPass;
}
else
{
    massageRepPassword.innerText = "";
}
```
---
### 5. ç”¨æˆ·è¾“å…¥å®Œæˆåæ ¡éªŒï¼ˆ`åç§°ã€é‚®ç®±ã€å¯†ç `ï¼‰(ç®€å•å°è£…ä¸€ä¸‹)
#### æ£€æŸ¥ç”¨æˆ·å
- æ·»åŠ æ–°çš„æ–¹æ³• `checkUserName(userName)`ã€å½¢å‚ï¼šç”¨æˆ·åè¾“å…¥æ¡†
- ç”¨æˆ·åçš„ `input` æ¡†ç»‘å®šäº‹ä»¶ï¼š`onblur="checkUserName(this)"`
- è¿™é‡Œä¼ å…¥çš„ `this` å°±æ˜¯è¡¨ç¤ºè¿™ä¸ª `input` å…ƒç´ 
``` js
 // æ£€æŸ¥ç”¨æˆ·å
function checkUserName(userName)
{
    var userMassageName = document.getElementById("uM-name");
    var length = userName.value.length;
    if (length < 3 || length > 10)
    {
        // ç”¨æˆ·æç¤º
        userMassageName.innerText = "ç”¨æˆ·åé•¿åº¦å¿…é¡»æ˜¯3-10ä½"
        return false;
    }
    else
    {
        userMassageName.innerText = "";
        return true
    }
}
```
---
#### æ£€æµ‹é‚®ç®±
- æ·»åŠ æ–°çš„æ–¹æ³• `checkEmail(userEmail)`ã€å½¢å‚ï¼šé‚®ç®±è¾“å…¥æ¡†
- é‚®ç®±çš„ `input` æ¡†ç»‘å®šäº‹ä»¶ï¼š`onblur="checkEmail(this)"`
``` js
 //æ£€æŸ¥é‚®ç®±
function checkEmail(userEmail)
{
    var userMassageEmail = document.getElementById("uM-email");
    var emailReg = /^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;
    if (!emailReg.test(userEmail.value))
    {
        // ç”¨æˆ·æç¤º
        userMassageEmail.innerText = "é‚®ç®±æ ¼å¼ä¸æ­£ç¡®!";
        return false;
    }
    else
    {
        userMassageEmail.innerText = "";
        return true
    }
}
```
---

#### å¯†ç æ£€æµ‹ã€é‡å¤å¯†ç 
- æ·»åŠ æ–°çš„æ–¹æ³• `checkPassword()`ã€
- å½¢å‚ï¼šä¸éœ€è¦ã€å› ä¸ºéœ€è¦å†ä¸¤ä¸ªåœ°æ–¹ç”¨ï¼Œæ‰€ä»¥åœ¨å‡½æ•°å†…éƒ¨è·å–å°±è¡Œäº†
- å¯†ç ã€é‡å¤å¯†ç çš„ `input` æ¡†ç»‘å®šäº‹ä»¶ï¼š`onblur="checkPassword()"`
``` js
// æ£€æŸ¥å¯†ç 
function checkPassword()
{
    // æ¶ˆæ¯æ¡†
    var userMassagePassword = document.getElementById("uM-password");
    var massageRepPassword = document.getElementById("uM-repPassword");

    // å¯†ç å…ƒç´ 
    var userPassword = document.getElementById("password").value;
    var repeatPassword = document.getElementById("repeat-password").value;

    if (userPassword.length < 6 || userPassword.length > 10)
    {
        // ç”¨æˆ·æç¤º
        userMassagePassword.innerText = "å¯†ç é•¿åº¦ä¸º6-10";
        return false;
    }
    else if (repeatPassword != userPassword)
    {
        // ç”¨æˆ·æç¤º
        userMassagePassword.innerText = "";
        massageRepPassword.innerText = "ä¸¤æ¬¡å¯†ç ä¸ä¸€è‡´ï¼";
        return false;
    }
    else
    {
        massageRepPassword.innerText = "";
        return true
    }
}
```
---

### 6. ä¿®æ”¹ `checkForm()` å‡½æ•°
- è·å–åˆ° `åç§°` å’Œ `å¯†ç `
- è°ƒç”¨ä¸Šé¢çš„ä¸‰ä¸ªå‡½æ•°ï¼Œåªéœ€è¦æŠŠ `åç§°` å’Œ `å¯†ç ` ä¼ å…¥å³å¯
``` js
 // æäº¤æ—¶æ ¡éªŒ
function checkForm()
{
    var userName = document.getElementById("user-name");
    var userEmail = document.getElementById("email");

    // ç”¨æˆ·åæ£€æµ‹
    if (!checkUserName(userName)) return false;
    // é‚®ç®±æ£€æµ‹
    if (!checkEmail(userEmail)) return false;
    // å¯†ç æ ¡éªŒ
    if (!checkPassword()) return false;

    return true;
}
```
---
### é¡µé¢æ•ˆæœå›¾

![](../public/a2.jpg)

---

### æŸ¥çœ‹æäº¤çš„å†…å®¹
`F12` æ‰“å¼€æ§åˆ¶å° -> ç½‘ç»œé€‰é¡¹å¡ï¼Œæ‰¾åˆ°æäº¤çš„é‚£ä¸€æ¡ï¼ˆé»˜è®¤æ˜¯ç¬¬ä¸€æ¡ï¼‰ï¼Œ-> `è´Ÿè½½` é‡Œå°±æ˜¯æäº¤çš„æ•°æ®äº†

![](../public/a1.jpg)

---